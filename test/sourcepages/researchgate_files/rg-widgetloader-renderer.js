"use strict";YUI.add("rg-tooltip",function(a){a.namespace("rg.widget");var b=a.Base.create("alignable",a.Widget,[a.WidgetPosition,a.WidgetPositionAlign]),c=a.Base.create("TooltipPlugin",a.Plugin.Base,[],{initializer:function(){if("mouseenter"!==this.get("type")||!a.UA.touchEnabled){var c=this.get("host"),d=new b({render:!1,visible:!0,zIndex:100}),e=new b({render:!1,visible:!1,zIndex:100});this.getAttrsFromData(),c.ancestor(".y-popup-container")&&e.get("boundingBox").addClass("dialog-tooltip"),e.get("boundingBox").addClass("yui3-tooltip"),e.get("contentBox").addClass("tt-container"),e.get("contentBox").addClass("tt-container-"+this.get("align")),e.get("boundingBox").addClass(this.get("additionalClasses")),d.get("contentBox").addClass("tt-arrow"),d.get("contentBox").addClass("tt-arrow-"+this.get("align")),this.innerContainer=a.Node.create("<div></div>"),this.innerContainer.addClass("tooltip-inner"),e.get("contentBox").append(this.innerContainer),this.get("width")&&(this.innerContainer.setStyle("width",this.get("width")),this.innerContainer.setStyle("maxWidth","none")),this.eventHandlers=[],"mouseenter"===this.get("type")?this.eventHandlers.push(c.on("mouseover",this.show,this),c.on("mouseout",this._hide,this)):"click"===this.get("type")?(this.get("closeOnOutsideClick")&&e.plug(a.Plugin.OverlayAutohide),this.eventHandlers.push(c.on("click",this._onClick,this))):"focus"===this.get("type")?this.eventHandlers.push(c.on("focus",this.hide,this)):"togglefocus"===this.get("type")&&this.eventHandlers.push(c.on("focus",this.show,this),c.on("blur",this.hide,this)),this.eventHandlers.push(e.get("boundingBox").delegate("click",this.hide,this.get("tooltipCloseSelector"),this)),this.get("persistWhenMouseover")&&(e.on("hover",function(){this._hover||(this._hover=!0,this.show())},this),e.on("mouseleave",function(){this._hover&&(this._hover=!1,this._hide())},this));var f=this.get("overlayOffset"),g=this.get("arrowOffset");(f[0]||f[1])&&e.on("xyChange",function(a){a.newVal[0]=a.newVal[0]+f[0],a.newVal[1]=a.newVal[1]+f[1]}),(g[0]||g[1])&&d.on("xyChange",function(a){a.newVal[0]=a.newVal[0]+g[0],a.newVal[1]=a.newVal[1]+g[1]}),this.set("overlay",e),this.set("arrow",d)}},destructor:function(){this.get("overlay")&&(this.hide(),a.Array.each(this.eventHandlers,function(a){a.detach()}),this.get("overlay").destroy(!0))},getAttrsFromData:function(){var b=this.get("host"),c=["align","renderTarget","width"];a.Array.each(c,function(a){var c=b.getData("tt-"+a);c&&this.set(a,c)},this)},_onClick:function(){this.get("overlay").get("visible")?this.hide():this.show()},show:function(){this._showTooltip=!0;var b=this.get("delay"),c=this;b>0?this._timer||(this._show(!0),this._timer=a.later(b,this,function(){c._showTooltip&&c._show(),c._timer=null})):this._show()},_show:function(b){var c=this,d=this,e=a.Lang,f=this.get("host"),g=this.get("contentFnCtx"),h=this.get("contentFn"),i=this.get("overlay"),j=this.get("arrow"),k=!1;i.get("rendered")||(i.render(this.get("renderTarget")),j.render(i.get("contentBox")),k=!0,this.eventHandlers.push(this.after("contentChange",function(){c._show(!c._showTooltip)})),this.eventHandlers.push(a.before("windowresize",function(){i.get("visible")&&(d.reposition(),i.show())}))),f.hasClass("tooltip-disabled")||((this.get("updateContentOnShow")||k)&&(e.isUndefined(g)||e.isUndefined(h)?e.isObject(this.get("content"))&&this.get("content").NAME&&"node"==this.get("content").NAME?(this.innerContainer.empty(),this.innerContainer.append(this.get("content"))):this.innerContainer.setContent(this.get("content")):this.innerContainer.setContent(h.call(g,this))),this.reposition(),b||i.show())},reposition:function(){var a=this.get("overlay");a.get("boundingBox").removeClass("tt-align-top"),a.get("boundingBox").removeClass("tt-align-bottom"),a.get("boundingBox").removeClass("tt-align-right"),a.get("boundingBox").removeClass("tt-align-left"),this.get("position").call(this)},_hide:function(b){var c=this.get("delay"),d=this;this._showTooltip=!1,c>0?a.later(200,this,function(){d._showTooltip||d.hide(b),d._timer=null}):this.hide(b)},hide:function(b){var c=this.get("host").generateID(),d=null;b&&b.relatedTarget&&b.relatedTarget.ancestor&&(d=b.relatedTarget.ancestor("#"+c,!0)),b&&null!==d||this.get("persistWhenMouseover")&&this._hover||(this._showTooltip=!1,this._timer&&this._timer.cancel&&a.Lang.isFunction(this._timer.cancel)&&(this._timer.cancel(),this._timer=null),this.get("overlay").hide())}},{NS:"tooltip",ATTRS:{updateContentOnShow:{value:!0},renderTarget:{value:"body"},align:{value:"top"},additionalClasses:{value:""},tooltipCloseSelector:{value:".js-tooltip-close"},width:{value:null},content:{value:""},type:{value:"mouseenter"},overlay:{value:null},arrow:{value:null},contentFnCtx:{validator:function(b){return a.Lang.isObject(b)}},contentFn:{validator:function(b){return a.Lang.isFunction(b)}},closeOnOutsideClick:{value:!0},arrowOffset:{value:[0,0]},overlayOffset:{value:[0,0]},delay:{value:0},persistWhenMouseover:{value:!1},position:{value:function(){var a=this.get("host"),b=this.get("overlay"),c=this.get("arrow");switch(this.get("align")){case"bottom":b.get("boundingBox").addClass("tt-align-bottom"),b.align(a,["tc","bc"]),c.align(a,["tc","bc"]);break;case"left":b.get("boundingBox").addClass("tt-align-left"),b.align(a,["rc","lc"]),c.align(a,["rc","lc"]);break;case"right":b.get("boundingBox").addClass("tt-align-right"),b.align(a,["lc","rc"]),c.align(a,["lc","rc"]);break;default:b.get("boundingBox").addClass("tt-align-top"),b.align(a,["bc","tc"]),c.align(a,["bc","tc"])}}}}});a.rg.widget.Alignable=b,a.rg.widget.TooltipPlugin=c},"0.0.1",{requires:["overlay","transition","gallery-overlay-extras"]});
YUI.add("rg.core.form.ErrorPopoverPlugin",function(a){a.namespace("rg.core.form"),a.rg.core.form.ErrorPopoverPlugin=a.Base.create("ErrorPopoverPlugin",a.rg.widget.TooltipPlugin,[],{initializer:function(){var b=this.get("host"),c=this.get("overlay"),d=c.get("boundingBox");a.Lang.isUndefined(b.tooltip)||b.tooltip.get("overlay").get("boundingBox").addClass("popover-hidden"),d.addClass("error-popover"),this.get("fieldName")&&d.addClass("error-popover-"+this.get("fieldName"))},destructor:function(){var b=this.get("host");if(!a.Lang.isUndefined(b.tooltip)){var c=b.tooltip.get("overlay");c.get("boundingBox").removeClass("popover-hidden"),this.get("overlay").destroy(!0)}}},{NS:"errorPopover",ATTRS:{align:{value:"right"},type:{value:"manual"},fieldName:{}}})},"0.0.1",{requires:["rg-tooltip"]});
YUI.add("rg-validation",function(a){a.namespace("rg.validation");var b=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;a.rg.validation.isValidMail=function(a){var c=b.test(a);return c?!0:(a=a.toLocaleLowerCase?a.toLocaleLowerCase():a.toLowerCase(),b.test(a))},a.rg.validation.sanitizeFormFieldName=function(a){return a.replace(/([\[\]])/g,"\\$1")}},"0.0.1");
"use strict";YUI.add("rg.WidgetView",function(a){a.namespace("rg");var b,c=a.Lang.isNull,d=a.Lang.isUndefined,e=a.rg.validation.sanitizeFormFieldName,f=function i(c){var d,e,f;if(b(c))return c.id;if(a.Lang.isArray(c)){d=[];for(f in c)c.hasOwnProperty(f)&&(e=i(c[f]),null!==e&&d.push(e));return d}if(a.Lang.isObject(c)){d={};for(f in c)c.hasOwnProperty(f)&&(e=i(c[f]),null!==e&&(d[f]=e));return d}return null},g=function(a){for(var b=a.get("offsetTop"),c=a.get("offsetLeft"),d=a.get("offsetWidth"),e=a.get("offsetHeight");a.get("offsetParent");)a=a.get("offsetParent"),b+=a.get("offsetTop"),c+=a.get("offsetLeft");return b>=window.pageYOffset&&c>=window.pageXOffset&&b+e<=window.pageYOffset+window.innerHeight&&c+d<=window.pageXOffset+window.innerWidth},h=a.Base.create("DestroyWidget",a.Plugin.Base,[],{initializer:function(a){this.widget=a.widget},destructor:function(){this.widget.destroy()}},{NS:"DestroyWidget"});a.rg.WidgetView=a.Base.create("WidgetView",a.Base,[],{initializer:function(b){this.id=b.id||"",this.data=b.data||{},this.partials=b.partials,this.viewClass=b.viewClass||null,this.widgetUrl=b.widgetUrl||null,this.template=b.template||null,this.compiledTemplate=b.compiledTemplate||null,this.templateExtensions=b.templateExtensions||[],this.templateName=b.templateName||null,this.yuiModules=b.yuiModules||[],this.events=a.merge(b.events||{},this.events),this._attachedViewEvents=[],this._childWidgets={},this._isYUI=b._isYUI,this.pageLayout=b.pageLayout,this.pageTitle=b.pageTitle,this.collectQueueCacheKey=b.collectQueueCacheKey,this.data.widgetId||(this.data.widgetId=this.id),this.on("rendered",function(){var b=this.get("container");if(b){if(a.rg.time("After rendered "+this.id),this.data.debugInfo&&b.setAttribute("data-debugInfo",this.data.debugInfo),this.afterRendered&&a.Lang.isFunction(this.afterRendered))if(a.config.debug)this.afterRendered();else try{this.afterRendered()}catch(c){a.error("Error calling afterRendered of widget "+this.id,c)}a.rg.timeEnd("After rendered "+this.id)}else a.log("widget: "+this.id+" is not properly implemented. widgetId missing?","warn");a.rg.timeEnd("FULL RENDER "+this.id)},this)},success:!0,errors:[],addChild:function(b,c){if(b&&c){var d=c.data.widgetId;this._childWidgets[d]=c;var e=b,f=this.getChildIds();if(b.indexOf(".")>=0){var g=b.split(".");for(e=g.splice(g.length-1,1);g.length>0;){if(!f)return;f=f[g.shift()]}}f&&(f[e]&&a.Lang.isArray(f[e])?f[e].push(d):f[e]=d)}},getChildIds:function(){return this.childIds||(a.rg.time("Extract child ids "+this.id),this.childIds=f(this.data),a.rg.timeEnd("Extract child ids "+this.id)),this.childIds},getChild:function(b){var c;if(b.indexOf(".")>=0){for(var d=b.split("."),e=this.getChildIds();d.length>0;){if(!e)return null;e=e[d.shift()]}c=e}else c=this.getChildIds()[b];if(!c)return null;if(a.Lang.isArray(c)){var f=[],g=a.clone(c,!0);return a.Array.each(g,function(a){var b=this.getChildById(a);b&&f.push(b)},this),f}return this.getChildById(c)},getChildById:function(a){var b=this._childWidgets[a];if(b&&b.get("container"))return this._childWidgets[a];var c=this.get("container").one("#"+a);if(!c)return this.removeChildById(a),null;var d=c.getData("widget");return this._childWidgets[a]=d,d},removeChildById:function(b){var c=function d(b,c){for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];f===c?a.Lang.isArray(b)?b.splice(e,1):delete b[e]:a.Lang.isObject(f)&&d(f,c)}};delete this._childWidgets[b],c(this.getChildIds(),b)},setContainer:function(b){a.rg.time("Sent container "+this.id),b||this.get("container")&&this.get("container").purge(!0),this.set("container",b),b&&(b.plug(h,{widget:this}),b.setData("widget",this),b.addClass("js-widgetContainer"),this.attachEvents(this.events)),a.rg.timeEnd("Sent container "+this.id)},destructor:function(){var a=this.get("container");this.detachEvents(),a&&a.purge(),this.set("container",null)},validateResponse:function(b){var c=this.get("container"),d=c.all(".control-group, .js-error-clear");if(d.each(function(b){b.unplug(a.rg.core.form.ErrorPopoverPlugin)}),c.all(".error").removeClass("error"),!b.success){var f=b.errors;a.Object.each(f,function(b,d){if(0===d)a.rg.notify(b,"warning");else{d=e(d);var f=c.one(".error-highlight-"+d);f&&f.addClass("error");var g=c.one(".error-"+d);if(g){var h=this.get("errorPopoverConfig"),i={content:a.Lang.isString(b)?b:b[0],fieldName:d};h&&(i=a.merge(h,i)),g.hasClass("error-align-left")?i.align="left":g.hasClass("error-align-right")?i.align="right":g.hasClass("error-align-top")?i.align="top":g.hasClass("error-align-bottom")&&(i.align="bottom"),g.plug(a.rg.core.form.ErrorPopoverPlugin,i),g.errorPopover.show()}}},this);var h=c.all(".error").shift();if(h&&!g(h)){var i=parseInt(h.getY())-60;i=0>i?0:i,a.rg.scrollTo(a.one("document"),i,.2)}return!1}return!0},validateField:function(b,c){var d=this.get("container"),f=e(b.get("name")),g=d.one(".error-highlight-"+f),h=d.one(".error-"+f);if(g&&g.removeClass("error"),h&&h.unplug(a.rg.core.form.ErrorPopoverPlugin),!c.success){if(g&&g.addClass("error"),h){var i=this.get("errorPopoverConfig"),j={content:c.errors[b.get("name")][0],fieldName:f};i&&(j=a.merge(i,j)),h.plug(a.rg.core.form.ErrorPopoverPlugin,j),h.errorPopover.show()}return!1}return!0},validateFieldFromData:function(b,c,d){var e=this.get("container"),f=e.one(".error-highlight-"+c),g=e.one(".error-"+c);if(f&&f.removeClass("error"),g&&g.unplug(a.rg.core.form.ErrorPopoverPlugin),!b&&g){var h=this.get("errorPopoverConfig"),i={content:d,fieldName:c};h&&(i=a.merge(h,i)),f&&f.addClass("error"),g&&(g.plug(a.rg.core.form.ErrorPopoverPlugin,i),g.errorPopover.show())}},updateData:function(b){this.data=a.merge(this.data,b)},attachEvents:function(b){a.rg.time("Attach events "+this.id);var e,f,g,h,i=this.get("container");this.detachEvents(),b=b||this.events,a.rg.supportsPushState()&&this._attachedViewEvents.push(i.delegate("click",a.rg.widget.handleAjaxPageLoad,"a.ajax-page-load",this));for(h in b)if(b.hasOwnProperty(h)){f=b[h];for(g in f)f.hasOwnProperty(g)&&(e=f[g],"string"==typeof e&&(e=this[e]),(d(e)||c(e))&&(a.log("Event handler not found for ["+g+"] on ["+h+"]","warn"),e=function(){}),"global"===h?this._attachedViewEvents.push(a.on(g,e,this)):"submit"===h?i.one(g)&&this._attachedViewEvents.push(i.one(g).on(h,e,this)):"click"==g?!function(a,b,c,d,e){e._attachedViewEvents.push(a.delegate(b,function(a){var b=a.currentTarget;return b.hasClass("btn-inactive")||b.hasClass("btn-disabled")||b.getAttribute("disabled")?void a.preventDefault():void c.call(e,a)},d,e))}(i,g,e,h,this):"change"==g&&a.UA.ie>0&&a.UA.ie<9?(this.get("container").all(h).each(function(a){this._attachedViewEvents.push(a.on("click",function(){this.blur()}))},this),this.get("container").all(h).each(function(a){this._attachedViewEvents.push(a.on(g,e,this))},this)):"submit"==g?this._attachedViewEvents.push(i.one(h).on(g,e,this)):this._attachedViewEvents.push(i.delegate(g,e,h,this)))}a.rg.timeEnd("Attach events "+this.id)},detachEvents:function(){a.Array.each(this._attachedViewEvents,function(a){a.detach()}),this._attachedViewEvents=[]},reload:function(b,c,d){var e=this.widgetUrl,f=this.get("container");a.rg.loadWidget(e,b,function(a){try{a.render({replace:f,before:c,after:d})}catch(b){f.remove(!0)}})},getDefaultDialogConfig:function(){return{}},render:function(b){a.rg.time("FULL RENDER "+this.id),a.rg.time("prepare widget tree "+this.id),a.rg.widget.prepareWidgetTree(this,a.bind(function(c){a.rg.timeEnd("prepare widget tree "+this.id),this.data=c.data,a.rg.time("render widget tree "+this.id),a.rg.widget.renderWidgetTree(this,b),a.rg.timeEnd("render widget tree "+this.id)},this))}},{NAME:"view",ATTRS:{container:{value:null}}}),a.rg.ReactWidgetView=a.Base.create("ReactWidgetView",a.rg.WidgetView,[],{initializer:function(a){this.set("reactWidgetTree",a.reactWidgetTree)},afterRendered:function(){var b=this.get("reactWidgetTree");a.rg.widget.prepareWidgetTree(b,a.bind(function(b){a.rg.renderReactWidgetTree(b,this.dialog)},this))},destructor:function(){a.rg.unmountReactComponent(this.id)}},{NAME:"reactView",ATTRS:{reactWidgetTree:{value:null}}}),a.rg.WidgetView.getInstance=function(b){var c,d=b.viewClass;a.Lang.isString(d)||(d="WidgetView"),c=a.Object.getValue(a.rg,d.split(".")),a.Lang.isObject(c)||(c=a.rg.WidgetView);var e=new c(b);return e.setAttrs(b.attrs),e},a.rg.ReactWidgetView.getInstance=function(b){var c='<div id="'+b.widgetId+'" class="react-container"></div>';return new a.rg.ReactWidgetView({id:b.widgetId,data:{},reactWidgetTree:b,templateName:"reactWrapperTemplate",template:Hogan.compile(c,{},"reactWrapperTemplate.html")})},a.rg.getWidgetListViewInstance=function(b){var c="{{#subWidgets}}{{{.}}}{{/subWidgets}}";return new a.rg.WidgetView({data:{subWidgets:b},templateName:"widgetListWrapperTemplate",template:Hogan.compile(c,{},"widgetListWrapperTemplate.html")})},a.rg.WidgetView.isRenderableWidget=b=function(b){return a.Lang.isObject(b)?!(!b.id&&!b.widgetId||!b.templateName):!1}},"1.0.0",{requires:["rg.core.form.ErrorPopoverPlugin","rg-validation"]});
YUI.add("rg-utils-dom",function(a){a.namespace("rg.utils.dom"),a.rg.utils.dom.canAcceptFocus=function(b){return b=a.one(b),"hidden"==b.getStyle("visibility")||"none"==b.getStyle("display")||b.get("disabled")?!1:!0},a.rg.utils.dom.disableButton=function(b){b=a.one(b),b.setAttribute("disabled","disabled"),b.addClass("btn-disabled")},a.rg.utils.dom.enableButton=function(b){b=a.one(b),b.removeClass("btn-disabled"),b.removeAttribute("disabled")}},"0.0.1",{requires:[]});
"use strict";YUI.add("rg-overlay",function(a){a.namespace("rg.widget");var b,c,d,e="host",f="renderUI",g="contentBox";!function(){var c="popup",d="y-popup",h="overlayPopup",i="boundingBox",j="y-popup-modal",k=[],l=a.UA.ie>5&&a.UA.ie<9,m=function(){if(0===k.length)return a.one("#page-container");var b=n();return b.get(e).get(i)},n=function(){return k[k.length-1]},o=function(){var a,b,c;a=this.get(e),c=a.get(g),c.addClass(d),b=a.get(i),b.addClass(j),a.get("visible")&&r.call(this)},p=function(a){a.newVal&&this.get(e)._syncUIPosAlign()},q=function(){var b=this.get(e),c=a.one("win"),d=c.get("winHeight");l&&b.get(i).setStyle("height",d+"px")},r=function(){if(this.get("host").get("visible")){if(0===k.length&&a.one("html").addClass("has-overlay"),n()!==this){var b=m();k.push(this),a.fire("rg.popup:opened"),this.get(e).get(i).setStyle("top","0"),a.one("win").set("scrollTop",0),b.addClass("popup-fixed");var c=this.get("bodyScrollTop");b.setStyle("top",-c)}this.get("handleResize")&&(this.resizeHandler=a.on("windowresize",q,this),this.contentUpdateHandler=this.get("host").after("contentUpdate",q,this),s.call(this),q.call(this))}else{k.pop(),0===k.length&&a.one("html").removeClass("has-overlay");var b=m();a.fire("rg.popup:closed"),b.removeClass("popup-fixed"),b.setStyle("top",null),a.one("win").set("scrollTop",this.get("bodyScrollTop")),this.get("handleResize")&&(this.resizeHandler.detach(),this.contentUpdateHandler.detach(),this.get("timer").cancel())}this.get("hideOnClickOutside")?this.get(e).get(i).on("click",u,this):this.get(e).get(i).detach("click",u,this)},s=function(){this.set("timer",a.later(1e3,this,function(){q.call(this)},[],!0))},t=function(){var b=this.get(e),c=a.Node.create('<div class="y-popup-container"></div>');b.get(i).appendChild(c),c.appendChild(b.get(g))},u=function(a){var b=this.get(e);a.target.contains(b.get(g))&&b.hide()};b=a.Base.create(h,a.Plugin.Base,[],{initializer:function(){this.beforeHostMethod(f,t,this),this.afterHostMethod(f,o,this),this.after("hideOnClickOutsideChange",function(){this.resizeHandler&&this.resizeHandler.detach(),r.call(this)},this),this.after("handleResizeChange",function(){this.get(e).get(i).detach("click",u,this),r.call(this)},this),this.get(e).get(i).delegate("click",function(){this.get(e).hide()},".js-close",this),this.doBefore("visibleChange",function(){this.get("host").get("visible")||this.set("bodyScrollTop",a.one("win").get("scrollTop"))},this),this._onFocusOutisde=this.get(e).get(i).on("focusoutside",function(a){n()!==this&&a.stopImmediatePropagation()},this),this._visibleChangeBeforeHandle=this.doBefore("visibleChange",p,this),this._visibleChangeAfterHandle=this.get("host").after("visibleChange",r,this)},destructor:function(){this.get("host").get("visible")&&(this.get("host").set("visible",!1),r.call(this)),this._visibleChangeAfterHandle.detach(),this._visibleChangeBeforeHandle.detach(),this._onFocusOutisde.detach()}},{NS:c,ATTRS:{timer:{value:null},handleResize:{value:!0},hideOnClickOutside:{value:!0},bodyScrollTop:{value:null}}})}(),function(){var b="closeable",d="overlayCloseable",h='<div class="close"><a class="js-dialog-close" href="javascript:" onclick="return false;"></a></div>',i=function(){var b,c,d,f;b=this.get(e),c=b.get(g),c.setStyle("position","relative"),d=a.Node.create(h),f=d.one(".js-dialog-close"),f.setContent('<span class="ico-x-close-light"></span>'),c.append(d),f.on("click",b.hide,b)};c=a.Base.create(d,a.Plugin.Base,[],{initializer:function(){this.afterHostMethod(f,i,this)},destructor:function(){var a;window.CustomEvent?a=new CustomEvent("rg.popup:closed"):(a=document.createEvent("CustomEvent"),a.initCustomEvent("rg.popup:closed",!0,!0,{})),window.dispatchEvent(a)}},{NS:b})}(),function(){var e=1001,f=1,g=[],h=function(){var a=void 0;return a=0===g.length?e:g[g.length-1]+f,g.push(a),a},i=function(){return g.pop()};d=a.Base.create("Overlay",a.Overlay,[],{initializer:function(d){d.plugins=a.mix([a.Plugin.OverlayModal,{fn:a.Plugin.OverlayAutohide,cfg:{focusedOutside:!1,clickedOutside:!1,pressedEscape:!0}},{fn:b,cfg:{handleResize:d.handleResize,hideOnClickOutside:d.hideOnClickOutside}},c],d.plugins),d.autoStack?(this.set("zIndex",h()),this.set("autoStack",d.autoStack)):this.set("zIndex",d.zIndex&&"auto"!==d.zIndex?d.zIndex:1001),this.on("bodyContentChange",function(){this.get("autoFocusInput")&&a.Lang.later(200,this,function(){var b=this.getStdModNode(a.WidgetStdMod.BODY);if(b){var c=b.all("input[type=text],textarea");if(!c.isEmpty()){var d=c._nodes[0];d&&a.rg.utils.dom.canAcceptFocus(d)&&d.focus()}}})})},destructor:function(){i()},scaleToViewport:function(b,c){var d=a.one("body").get("winHeight"),e=this.getStdModNode(a.WidgetStdMod.BODY),f=e.get("offsetHeight"),g=e.getY(),h=a.one(".yui3-overlay-modal"),i=b.get("offsetHeight"),j=f-i,k=150,l=50,m=d-(g+l+j),n=Math.max(m,k);b.setStyle("overflowY","auto"),c===!0&&n>b.get("offsetHeight")&&b.setStyle("height",n),b.setStyle("maxHeight",n);var o=n+g+l+j;return h.setStyle("overflow","hidden"),h.setStyle("height",o-5),n},configure:function(a){"undefined"!=typeof a.hideOnClickOutside&&this.hasPlugin("popup").set("hideOnClickOutside",a.hideOnClickOutside),"undefined"!=typeof a.handleResize&&this.hasPlugin("popup").set("handleResize",a.handleResize),this.render(),this.get("autoStack")?this.get("zIndex")||this.set("zIndex",h()):this.set("zIndex",a.zIndex&&"auto"!==a.zIndex?a.zIndex:1001)}},{ATTRS:{autoFocusInput:{value:!0}}})}(),a.rg.widget.OverlayPopup=b,a.rg.widget.OverlayCloseable=c,a.rg.widget.Dialog=d},"0.0.1",{requires:["overlay","gallery-overlay-extras","rg-utils-dom"]});
YUI.add("rg-callback-timer",function(a){a.namespace("rg");var b=function(){a.Lang.isNull(this._timer)||this._timer.cancel()},c=function(){this._timer=a.Lang.later(this.get("delay"),this,d)},d=function(){var b=this.get("host"),c=this.get("callback");c.call(b),b.unplug(a.rg.CallbackTimer)};a.rg.CallbackTimer=a.Base.create("CallbackTimer",a.Plugin.Base,[],{_timer:null,initializer:function(){c.call(this)},destructor:function(){b.call(this)}},{NS:"callbackTimer",ATTRS:{delay:{value:5e3},callback:{validator:function(b){return a.Lang.isFunction(b)}}}})},"0.0.1",{requires:[]});
"use strict";YUI.add("rg-header-notify",function(a){a.namespace("rg.widget");var b,c,d=null,e=a.Base.create("HeaderMessagePositionable",a.Widget,[a.WidgetPosition,a.WidgetStack]),f='<div class="c-message-wrapper"><div class="c-message"><div class="c-message-inner"><span></span><a href="javascript:void(0);" class="close" onclick="return false;">&times;</a></div></div></div>',g={promo:"promo",attention:"attention",warning:"warning"};b=a.Base.create("HeaderAlign",a.Base,[],{_align:null,_contentNode:null,_contentWrapperNode:null,_close:null,initializer:function(){var b=a.Node.create(f),c=this.get("posX"),d=this.get("posY");this._contentNode=b.one("span"),this._close=b.one(".close"),this._contentWrapperNode=b.one("div"),this._align=new e({contentBox:b,render:!0,visible:!1,zIndex:101,xy:[c,d],plugins:[{fn:a.Plugin.TransitionOverlay,cfg:{duration:.2}}]}),this._createEvents()},destructor:function(){this._align.destroy(),this._align=null},setType:function(b){var c;for(c in g)g.hasOwnProperty(c)&&this._contentWrapperNode.removeClass(g[c]);a.Lang.isValue(g[b])?this._contentWrapperNode.addClass(g[b]):a.log("Type "+b+" not supported.","warn")},setText:function(b){if(a.Lang.isObject(b)){var c=[];a.Object.each(b,function(a){c.push(a)}),b=c.join("<br />")}else a.Lang.isArray(b)&&(b=b.join("<br />"));this._contentNode.setContent(b)},show:function(){this._align.show();var b=a.rg.hasOverlay(),c=a.one(".header-wrapper"),d=a.one("window"),e=parseInt(d.get("scrollTop"));if(c){var f=parseInt(c.get("offsetHeight"));this.set("posY",f)}var g=Math.max(this.get("posY"),e);b?(this._align.set("zIndex",1100),this._align.set("xy",[0,0])):this._align.set("xy",[0,g]),this._align.plug(a.rg.CallbackTimer,{delay:5e3,callback:this._align.hide})},hide:function(){this._align.unplug(a.rg.CallbackTimer),this._align.hide()},_createEvents:function(){this._close.on("click",this._align.hide,this._align)}},{ATTRS:{posY:{value:51,writeOnce:!0},posX:{value:0,writeOnce:!0}}}),c=function(c){return a.Lang.isNull(d)&&(d=new b(c)),d},a.rg.notify=function(b,d){var e,f=a.one(".header-wrapper-logged-out");e=f?c({posY:f.get("offsetHeight")}):c(),e.setText(b),e.setType(d),e.show()}},"0.0.1",{requires:["widget","widget-position","widget-stack","rg-overlay","rg-callback-timer"]});
YUI.add("rg-linkify",function(a){a.namespace("rg");var b=/((([hH][tT][tT][pP][sS]?|[fF][tT][pP])\:\/\/)([\w\.\-]+(\:[\w\.\&%\$\-]+)*@)?((([^\s\(\)<\>\\\"\.\[\]\,@;:\/]+)(\.[^\/\s\(\)<\>\\\"\.\[\]\,@;:]+)*(\.[a-zA-Z]{2,4}))|((([01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}([01]?\d{1,2}|2[0-4]\d|25[0-5])))(\b\:(6553[0-5]|655[0-2]\d|65[0-4]\d{2}|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{0,3}|0)\b)?((\/[^\/\s][\w\.\,\?\'\\\/\+&%\$\#\=~_\-\â€“@|:;!\(\)\x7F-\xFF]*)*[^\.\,\?\"\'\[\]!;<>{}\s])?)/g;a.rg.linkify=function(a){return a.replace(b,'<a href="$1" target="_blank">$1</a>')}},"0.0.1");
YUI.add("rg-matchhighlighter",function(a){a.namespace("rg");var b=/\[luc0815\](.*?)\[5180luc\]/g;a.rg.matchhighlighter=function(a){return a.replace(b,'<span class="search-result-highlighted">$1</span>')},a.rg.matchhighlighterRemove=function(a){return a.replace(b,"$1")}},"0.0.1");
YUI.add("rg-string",function(a){a.namespace("rg.string"),a.rg.string.startsWith=function(a,b){var c=new RegExp("^"+b);return c.test(a)},a.rg.string.arrayPrint=function(a,b,c){if(a.length<1)return"";if(1===a.length)return a[0];var d=a.length-1,e=a[d],f=a.slice(0,d);return f.join(b)+c+e},a.rg.string.shorten=function(b,c){return b.length<=c?b:a.Lang.trim(b.substring(0,c))+"..."},a.rg.string.shortenMiddle=function(a,b,c){var d=Math.ceil(b/2),e=Math.floor(b/2);return c=c?c:"...",a.length>b?a.substr(0,d)+c+a.substr(a.length-e):a},a.rg.string.stripTags=function(a){return a.replace(/(<([^>]+)>)/gi,"")},a.rg.string.wordWrap=function(b,c,d,e){var f,g,h,i,j,k=a.Lang.isUndefined(c)?75:c,l=a.Lang.isUndefined(d)?"\n":d,m=a.Lang.isUndefined(e)?!1:e;if(b+="",1>k)return b;for(f=-1,h=(j=b.split(/\r\n|\n|\r/)).length;++f<h;j[f]+=i)for(i=j[f],j[f]="";i.length>k;j[f]+=i.slice(0,g)+((i=i.slice(g)).length?l:""))g=2==m||(g=i.slice(0,k+1).match(/\S*(\s)?$/))[1]?k:g.input.length-g[0].length||1==m&&k||g.input.length+(g=i.slice(k).match(/^\S*/)).input.length;return j.join("\n")},a.rg.string.wordBreak=function(b,c){var d,e=a.rg.string.wordWrap,f=b.split(" "),g=[];a.Lang.isUndefined(c)&&(c=45);var h,i,j='<wbr /><span class="wbr"></span>';for(d=0;d<f.length;d++)h=f[d],i=h.length>=c?e(h,c,j,!0):h,g.push(i);return g.join(" ")},a.rg.string.nodeWordBreak=function(b,c){var d,e=a.rg.string.htmlentities,f=a.rg.string.html_entity_decode,g=a.rg.string.wordBreak,h=a.Node.create("<div>"+b+"</div>"),i="",j=h.get("childNodes"),k=j.size();for(d=0;k>d;d++){var l,m=j.item(d);m.hasChildNodes()&&m.get("firstChild").get("nodeValue")?(l=f(m.get("firstChild").get("nodeValue"),"ENT_QUOTES"),l=e(g(l,c)),l=l.replace(/&lt;wbr \/&gt;&lt;span class=&quot;wbr&quot;&gt;&lt;\/span&gt;/g,'<wbr /><span class="wbr"></span>'),i+="A"===m.get("tagName")?'<a href="'+m.getAttribute("href")+'" target="_blank">'+l+"</a>":'<span class="'+m.getAttribute("class")+'">'+l+"</span>"):m.get("nodeValue")&&(l=f(m.get("nodeValue"),"ENT_QUOTES"),l=e(g(l,c)),l=l.replace(/&lt;wbr \/&gt;&lt;span class=&quot;wbr&quot;&gt;&lt;\/span&gt;/g,'<wbr /><span class="wbr"></span>'),i+=l)}return i},a.rg.string.nl2br=function(a){return"string"==typeof a?a.replace(/(\r\n)|(\n\r)|\r|\n/g,"<br />"):a},a.rg.string.get_html_translation_table=function(a,b){var c,d,e,f={},g={},h={},i={};if(h[0]="HTML_SPECIALCHARS",h[1]="HTML_ENTITIES",i[0]="ENT_NOQUOTES",i[2]="ENT_COMPAT",i[3]="ENT_QUOTES",d=isNaN(a)?a?a.toUpperCase():"HTML_SPECIALCHARS":h[a],e=isNaN(b)?b?b.toUpperCase():"ENT_COMPAT":i[b],"HTML_SPECIALCHARS"!==d&&"HTML_ENTITIES"!==d)throw new Error("Table: "+d+" not supported");f[38]="&amp;","HTML_ENTITIES"===d&&(f[160]="&nbsp;",f[161]="&iexcl;",f[162]="&cent;",f[163]="&pound;",f[164]="&curren;",f[165]="&yen;",f[166]="&brvbar;",f[167]="&sect;",f[168]="&uml;",f[169]="&copy;",f[170]="&ordf;",f[171]="&laquo;",f[172]="&not;",f[173]="&shy;",f[174]="&reg;",f[175]="&macr;",f[176]="&deg;",f[177]="&plusmn;",f[178]="&sup2;",f[179]="&sup3;",f[180]="&acute;",f[181]="&micro;",f[182]="&para;",f[183]="&middot;",f[184]="&cedil;",f[185]="&sup1;",f[186]="&ordm;",f[187]="&raquo;",f[188]="&frac14;",f[189]="&frac12;",f[190]="&frac34;",f[191]="&iquest;",f[192]="&Agrave;",f[193]="&Aacute;",f[194]="&Acirc;",f[195]="&Atilde;",f[196]="&Auml;",f[197]="&Aring;",f[198]="&AElig;",f[199]="&Ccedil;",f[200]="&Egrave;",f[201]="&Eacute;",f[202]="&Ecirc;",f[203]="&Euml;",f[204]="&Igrave;",f[205]="&Iacute;",f[206]="&Icirc;",f[207]="&Iuml;",f[208]="&ETH;",f[209]="&Ntilde;",f[210]="&Ograve;",f[211]="&Oacute;",f[212]="&Ocirc;",f[213]="&Otilde;",f[214]="&Ouml;",f[215]="&times;",f[216]="&Oslash;",f[217]="&Ugrave;",f[218]="&Uacute;",f[219]="&Ucirc;",f[220]="&Uuml;",f[221]="&Yacute;",f[222]="&THORN;",f[223]="&szlig;",f[224]="&agrave;",f[225]="&aacute;",f[226]="&acirc;",f[227]="&atilde;",f[228]="&auml;",f[229]="&aring;",f[230]="&aelig;",f[231]="&ccedil;",f[232]="&egrave;",f[233]="&eacute;",f[234]="&ecirc;",f[235]="&euml;",f[236]="&igrave;",f[237]="&iacute;",f[238]="&icirc;",f[239]="&iuml;",f[240]="&eth;",f[241]="&ntilde;",f[242]="&ograve;",f[243]="&oacute;",f[244]="&ocirc;",f[245]="&otilde;",f[246]="&ouml;",f[247]="&divide;",f[248]="&oslash;",f[249]="&ugrave;",f[250]="&uacute;",f[251]="&ucirc;",f[252]="&uuml;",f[253]="&yacute;",f[254]="&thorn;",f[255]="&yuml;"),"ENT_NOQUOTES"!==e&&(f[34]="&quot;"),"ENT_QUOTES"===e&&(f[39]="&#39;"),f[60]="&lt;",f[62]="&gt;";for(c in f)f.hasOwnProperty(c)&&(g[String.fromCharCode(c)]=f[c]);return g},a.rg.string.html_entity_decode=function(b,c){var d,e,f,g;if(f=b.toString(),(d=a.rg.string.get_html_translation_table("HTML_ENTITIES",c))===!1)return!1;delete d["&"],d["&"]="&amp;";for(e in d)d.hasOwnProperty(e)&&(g=d[e],f=f.split(g).join(e));return f=f.split("&#039;").join("'")},a.rg.string.htmlentities=function(b,c,d,e){var f=a.rg.string.get_html_translation_table("HTML_ENTITIES",c),g="";if(b=null==b?"":b+"",!f)return!1;if(c&&"ENT_QUOTES"===c&&(f["'"]="&#039;"),delete f["&"],e||null==e){b=b.split("&").join("&amp;");for(g in f)f.hasOwnProperty(g)&&(b=b.split(g).join(f[g]))}else b=b.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(a,c,d){b=b.split("&").join("&amp;");for(var e in f)f.hasOwnProperty(e)&&(c=c.split(e).join(f[e]));return c+d});return b},a.rg.string.ucfirst=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},a.rg.string.convertDashedToCamelCaseNotation=function(b){for(var c=b.split("-"),d=1;d<c.length;d++)c[d]=a.rg.string.ucfirst(c[d]);return c.join("")},a.rg.string.convertDashedObjectKeysToCamelCaseNotation=function(b){var c={};return a.Object.each(b,function(b,d){var e=a.rg.string.convertDashedToCamelCaseNotation(d);c[e]=b}),c}},"0.0.1",{requires:["rg-linkify","rg-matchhighlighter"]});
"use strict";YUI.add("rg-utils-url",function(a){a.namespace("rg.utils.url");var b,c,d,e,f,g,h,i,j,k,l=document,m=window,n=m.location;b=function(a){var b=/^https?:\/\//;if(b.test(a))return void(l.location=a);var c=l.getElementsByTagName("base");c&&c[0]&&c[0].href&&("/"==c[0].href.substr(c[0].href.length-1)&&"/"==a.charAt(0)&&(a=a.substr(1)),a=c[0].href+a),l.location=a},c=function(){n.hash=""},d=function(a,b){var d;return b!==!0&&(b=!1),d=n.hash==="#"+a,d&&b&&c(),d},e=function(){return n.hash.substr(1)},f=function(a){return n.hash=a,n.hash},g=function(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)},h=function(a){var b=g(a),c=b.indexOf("?");return 0>c?b:b.substr(0,c)},k=function(a){var b=g(a),c=b.indexOf("?");return 0>c?"":b.substr(c+1)},i=function(b){var c=a.one("base").get("href");return-1===b.indexOf(c)?b:b.substr(c.length)},j=function(){return a.rg.utils.url.getUrlWithoutBaseLocation(a.rg.utils.url.getUrlWithoutParams(l.location.href))},a.rg.utils.url.forwardTo=b,a.rg.utils.url.anchorExists=d,a.rg.utils.url.getAnchor=e,a.rg.utils.url.setAnchor=f,a.rg.utils.url.deleteAnchor=c,a.rg.utils.url.getUrlWithoutHash=g,a.rg.utils.url.getUrlWithoutParams=h,a.rg.utils.url.getUrlWithoutBaseLocation=i,a.rg.utils.url.getRelativeLocation=j,a.rg.utils.url.getQueryString=k},"0.0.1",{requires:[]});
YUI.add("rg-stubloader",function(a){a.namespace("rg.stubloader");var b={};a.rg.stubloader.add=function(a,c){b[a]=c},a.rg.stubloader.get=function(a){if(!b[a])throw new Error("Can not get "+a+" since it was not (completely) loaded");return b[a]}},"0.0.1",{requires:[]});
"use strict";YUI.add("rg-widgetloader-renderers",function(a){a.namespace("rg.widget");var b=a.Base.create("DestroyWidgetOnDialogHide",a.Plugin.Base,[],{initializer:function(){this.afterHostMethod("hide",function(){if(this.get("widget")){var a=this.get("widget").get("container");if(a){var b=a.all("*");b.set("nodes",b.get("nodes").reverse()),b.unplug(),a.unplug()}}this.get("host").destroy(!0)},this)},destructor:function(){}},{NS:"DestroyWidgetOnDialogHide",ATTRS:{widget:{value:null}}});a.rg.widget.DestroyWidgetOnDialogHide=b,a.rg.widget.ReplaceRenderer=function(b,c,d){if("string"==typeof d&&(d=a.one(d)),!d)return!1;if(!d._node)return!1;if(!d.get("parentNode"))return!1;var e=c.getAttribute("class"),f=d.getData();f&&f.widget&&f.widget.dialog&&(b.dialog=f.widget.dialog,b.dialog.DestroyWidgetOnDialogHide.set("widget",b),f.widget.stackNodeClasses&&(a.Array.each(f.widget.stackNodeClasses.split(" "),function(a){b.dialog._stackNode.removeClass(a)}),b.dialog._stackNode.addClass(e),c.hasClass("js-full-dialog")&&b.dialog._stackNode.addClass("full-dialog"))),b.setContainer(c),d.replace(b.get("container")),d.destroy(!0)},a.rg.widget.ReplaceContentRenderer=function(b,c,d){return"string"==typeof d&&(d=a.one(d)),d?(b.setContainer(c),d.get("children").destroy(!0),d.setContent(""),void d.append(b.get("container"))):!1},a.rg.widget.RefreshRenderer=function(a,b){if(!a.get("container"))throw new Error("can not refresh a widget that has not been rendered before");a.get("container").empty(!0),a.get("container").setContent(b.getContent()),a.get("container").addClass("widget")},a.rg.widget.AppendRenderer=function(b,c,d){return"string"==typeof d&&(d=a.one(d)),d?(b.setContainer(c),void d.append(b.get("container"))):!1},a.rg.widget.BeforeNodeRenderer=function(b,c,d){return"string"==typeof d&&(d=a.one(d)),d?(b.setContainer(c),void d.insert(b.get("container"),"before")):!1},a.rg.widget.AfterNodeRenderer=function(b,c,d){return"string"==typeof d&&(d=a.one(d)),d?(b.setContainer(c),void d.insert(b.get("container"),"after")):!1},a.rg.widget.PrependRenderer=function(b,c,d){return"string"==typeof d&&(d=a.one(d)),d?(b.setContainer(c),void d.prepend(b.get("container"))):!1},a.rg.widget.OpenedDialogRenderer=function(){var c=function(c,d){var e=a.merge(d,{render:!1,visible:!1,bodyContent:'<div class="rendering"></div>',id:null}),f=new a.rg.widget.Dialog(e);return c&&f._stackNode.addClass(c),f.plug(b),d&&d.hideMask&&f.unplug(a.Plugin.OverlayModal),f.render(),f.show(),f},d=function(b,c,d){if(a.one("#"+b.id))return!1;if(!d)return!1;if(!d.get("visible"))return!1;if(b.dialog=d,b.dialog.configure(b.getDefaultDialogConfig()),11===c.getDOMNode().nodeType&&a.log("The dialog container is a document fragment - check your markup."),c.hasClass("js-full-dialog")||c.hasClass("react-container"))b.dialog.set("bodyContent",c),c.addClass("full-dialog"),b.setContainer(c);else{var e=c.one(".yui3-widget-hd"),f=c.one(".yui3-widget-bd"),g=c.one(".yui3-widget-ft");e||f||g||a.log("You must either set the class js-full-dialog on your dialog or provide at least one of .yui3-widget-{hd,bd,ft}, else your dialog will be empty"),b.dialog.set("headerContent",e?e.getContent():null),b.dialog.set("bodyContent",f?f.getContent():null),b.dialog.set("footerContent",g?g.getContent():null),b.dialog._stackNode.setAttribute("id",b.id),b.setContainer(b.dialog._stackNode)}b.dialog.DestroyWidgetOnDialogHide.set("widget",b);var h=c.getAttribute("class");b.dialog._stackNode.addClass(h),b.stackNodeClasses=h};return{createDialog:c,renderDialog:d}}(),a.rg.widget.DialogRenderer=function(c,d,e){if(a.one("#"+c.id))return!1;if(e=a.merge(e,c.getDefaultDialogConfig()),e=d.hasClass("js-full-dialog")||d.hasClass("react-container")?a.merge(e,{render:!1,visible:!1,headerContent:null,bodyContent:d,footerContent:null}):a.merge(e,{render:!1,visible:!1,headerContent:d.one(".yui3-widget-hd")?d.one(".yui3-widget-hd").getContent():null,bodyContent:d.one(".yui3-widget-bd")?d.one(".yui3-widget-bd").getContent():null,footerContent:d.one(".yui3-widget-ft")?d.one(".yui3-widget-ft").getContent():null,id:c.id}),c.getCustomDialogName){var f=a.Base.create(c.getCustomDialogName(),a.rg.widget.Dialog,[]);c.dialog=new f(e)}else c.dialog=new a.rg.widget.Dialog(e);c.dialog.plug(b),c.dialog.render(),d.hasClass("js-full-dialog")||d.hasClass("react-container")?(d.addClass("full-dialog"),c.setContainer(d)):(c.dialog._stackNode.addClass(d.getAttribute("class")),c.setContainer(c.dialog._stackNode),c.dialog.DestroyWidgetOnDialogHide.set("widget",c));var g=d.getAttribute("class");c.dialog._stackNode.addClass(g),c.stackNodeClasses=g,c.dialog.show()},a.rg.widget.DialogSectionRenderer=function(b,c,d){if(a.one("#"+b.id))return!1;var e=d.hasPlugin("DestroyWidget"),f=e.widget;b.dialog=f.dialog,f.set("container",null),b.dialog.set("headerContent",c.one(".yui3-widget-hd")?c.one(".yui3-widget-hd").getContent():null),b.dialog.set("bodyContent",c.one(".yui3-widget-bd")?c.one(".yui3-widget-bd").getContent():null),b.dialog.set("footerContent",c.one(".yui3-widget-ft")?c.one(".yui3-widget-ft").getContent():null),b.dialog.DestroyWidgetOnDialogHide.set("widget",b),d.unplug("DestroyWidget"),b.dialog._stackNode.set("id",b.id),b.setContainer(b.dialog._stackNode)},a.rg.widget.TooltipRenderer=function(){var b=function(b,c){return c=a.merge(c,{content:'<div class="rendering"></div>'}),b.plug(a.rg.widget.TooltipPlugin,c),b.tooltip},c=function(b,c,d){return a.one("#"+b.id)?!1:d?(b.tooltip=d,void d.set("content",c)):!1};return{createTooltip:b,renderTooltip:c}}()},"0.0.1",{requires:["rg-utils-url","rg-string","rg-overlay","rg-tooltip"]});
YUI.add("rg-anim",function(a){a.namespace("rg"),a.rg.highlight=function(b,c,d){var e=a.one(b),f=a.merge({duration:1.5},d);if(0===a.UA.ie||a.UA.ie>8)e.setStyle("backgroundColor","#fffed2"),e.transition({easing:"ease-out",duration:f.duration,backgroundColor:"rgba(0,0,0,0)"},function(){e.setStyle("backgroundColor",""),c&&c()});else{var g=new a.Anim({node:e,from:{backgroundColor:"#fffed2"},to:{backgroundColor:"#ffffff"},duration:f.duration});g.set("easing",a.Easing.easeOut),g.on("end",function(){e.setStyle("backgroundColor",""),c&&c()}),g.run()}},a.rg.fadeToggle=function(b,c,d){var e,f,g=a.one(b);return g?(e="none"!=g.getStyle("display"),f=a.merge({duration:.2},d),void(e?g.transition({easing:"linear",duration:f.duration,opacity:"0"},function(){g.hide(),g.setStyle("opacity",""),c&&c()}):(g.setStyle("opacity","0"),g.show(),g.transition({easing:"linear",duration:f.duration,opacity:"1"},function(){g.setStyle("opacity",""),c&&c()})))):!1},a.rg.slideOpen=function(b,c,d){var e=a.one(b),f="none"!=e.getStyle("display"),g=null,h=d&&"duration"in d?d.duration:.3,i=d&&"dimension"in d?d.dimension:"height",j=new a.Anim({node:e,duration:h});if(!f){e.setStyle(i,""),e.setStyle("overflow","hidden"),e.setStyle("visibility","hidden"),e.setStyle("display","block");var k=e.getStyle("marginTop"),l=e.getStyle("marginBottom"),m=e.getStyle("marginLeft"),n=e.getStyle("marginRight"),o=e.getStyle("paddingTop"),p=e.getStyle("paddingBottom"),q=e.getStyle("paddingLeft"),r=e.getStyle("paddingRight");return"height"!=i?(e.setStyle("paddingLeft","0"),e.setStyle("paddingRight","0"),e.setStyle("marginLeft","0"),e.setStyle("marginRight","0"),g=e.get("offsetWidth"),j.set("to",{width:g,marginLeft:m,marginRight:n,paddingLeft:q,paddingRight:r})):(e.setStyle("paddingTop","0"),e.setStyle("paddingBottom","0"),e.setStyle("marginTop","0"),e.setStyle("marginBottom","0"),g=e.get("offsetHeight"),j.set("to",{height:g,marginTop:k,marginBottom:l,paddingTop:o,paddingBottom:p})),e.setStyle("display","none"),e.setStyle("visibility",""),e.setStyle(i,"1px"),j.on("start",function(){e.show(),e.setStyle("display","block")}),j.on("end",function(){e.removeAttribute("style"),c&&c(!0)}),j.run(),j}},a.rg.slideClose=function(b,c,d){var e=a.one(b);if(e){var f="none"!=e.getStyle("display"),g=d&&"duration"in d?d.duration:.2,h=d&&"dimension"in d?d.dimension:"height",i=new a.Anim({node:e,duration:g});if(f)return"height"!=h?i.set("to",{width:"1px",paddingLeft:"0",paddingRight:"0",marginLeft:"0",marginRight:"0"}):i.set("to",{height:"1px",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"}),i.on("start",function(){e.setStyle("overflow","hidden")}),i.on("end",function(){e.removeAttribute("style"),e.setStyle("display","none"),c&&c(!1)}),i.run(),i}},a.rg.slideToggle=function(b,c,d,e){var f=a.one(b);if(!f)return void(c&&c());var g="none"!=f.getStyle("display");return e||(e={}),d?e.dimension="width":e.dimension="height",g?a.rg.slideClose(b,c,e):a.rg.slideOpen(b,c,e)},a.rg.scrollTo=function(b,c,d){b=a.one(b);var e=new a.Anim({node:b,duration:d,to:{scroll:[0,c]},easing:a.Easing.easeInOut});e.run(),e.destroy()}},"0.0.1",{requires:["anim","transition"]});
"use strict";YUI.add("rg-widgetloader-renderer",function(a){a.namespace("rg.widget");var b=function(b,c){b.yuiModules&&(c.yuiModules=c.yuiModules.concat(b.yuiModules)),b.templateExtensions&&(c.yuiModules=c.yuiModules.concat(b.templateExtensions)),b.template&&"object"==typeof b.template||b._isReact||c.yuiModules.push(b.templateName),a.Object.each(b.partials,function(a){"string"==typeof a&&c.yuiModules.push(a)}),c.yuiModules=a.Array.dedupe(c.yuiModules)},c=[],d=function j(d,e){var f;if(d&&"object"==typeof d&&!d._isReact)if(d.templateName){d.toString=function(){var b=a.rg.WidgetView.getInstance(d),e="<noscript></noscript>"+i(b);return"application/stubs/AsyncClientSideRenderingWrapper.html"===d.templateName&&b.on("rendered",function(){var b=a.one("#"+d.id);a.rg.loadAndRenderAsyncWidget(b,d.data)}),c.push(b),e},b(d,e);for(f in d.data)d.data.hasOwnProperty(f)&&(d.data[f]=j(d.data[f],e))}else for(f in d)d.hasOwnProperty(f)&&(d[f]=j(d[f],e));else if(d&&"object"==typeof d&&d._isReact){d.toString=function(){var b=a.rg.ReactWidgetView.getInstance(d),e=i(b);return c.push(b),e},b(d,e);for(f in d.data)d.data.hasOwnProperty(f)&&(d.data[f]=j(d.data[f],e))}return d},e=function(b,c,d){a.use(c.yuiModules,function(){d&&d(b)})};a.rg.widget.prepareWidgetTree=function(b,c){var f={yuiModules:[]};a.rg.time("collect data "+b.id),b=d(b,f),b.collectQueueCacheKey&&lscache.set(b.collectQueueCacheKey,f,2880),a.rg.timeEnd("collect data "+b.id),a.rg.time("retrieve data "+b.id),e(b,f,function(b){a.rg.timeEnd("retrieve data "+b.id),c&&c(b)})};var f=function(b,d,e){var f,h,i;if(d.hasOwnProperty("replace"))f=a.rg.widget.ReplaceRenderer,h=d.replace;else if(d.hasOwnProperty("replaceContent"))f=a.rg.widget.ReplaceContentRenderer,h=d.replaceContent;else if(d.hasOwnProperty("append"))f=a.rg.widget.AppendRenderer,h=d.append;else if(d.hasOwnProperty("prepend"))f=a.rg.widget.PrependRenderer,h=d.prepend;else if(d.hasOwnProperty("beforeNode"))f=a.rg.widget.BeforeNodeRenderer,h=d.beforeNode;else if(d.hasOwnProperty("afterNode"))f=a.rg.widget.AfterNodeRenderer,h=d.afterNode;else if(d.hasOwnProperty("refresh"))f=a.rg.widget.RefreshRenderer,h=d.refresh;else if(d.hasOwnProperty("dialog"))f=a.rg.widget.DialogRenderer,h=d.dialog;else if(d.hasOwnProperty("dialogSections"))f=a.rg.widget.DialogSectionRenderer,h=d.dialogSections;else if(d.hasOwnProperty("openedDialog"))f=a.rg.widget.OpenedDialogRenderer.renderDialog,h=d.openedDialog;else if(d.hasOwnProperty("tooltip"))f=a.rg.widget.TooltipRenderer.renderTooltip,h=d.tooltip;else{if(!d.hasOwnProperty("renderer")||"function"!=typeof d.renderer)throw new Error("no valid renderer specified");f=d.renderer,h={}}return a.rg.time("Render event logic "+b.id),i=f(b,e,h),i===!1?(c=[],!1):(a.Array.each(c,function(b){var c=a.one("#"+b.id);c&&b.setContainer(c)}),c.push(b),"function"==typeof d.afterRendered&&b.once("rendered",function(){d.afterRendered.call(b,b.get("container"))}),void(("function"!=typeof d.after||d.after.call(b,b.get("container"),a.bind(function(){g()}))!==!1)&&(g(),a.rg.timeEnd("Render event logic "+b.id))))},g=function(){for(var a;a=c.shift();)h(a)},h=function(a){var b=a.get("container");b&&a.fire("rendered",b)},i=function(b){a.rg.time("render widget to html "+b.id);var c=b.data;if(a.Array.each(b.templateExtensions,function(b){c=a.merge(window[b],c)}),!b.template){var d=a.rg.stubloader.get(b.templateName);b.template=a.rg.createHoganTemplate(d.compiledTemplate,d.templateString)}a.Object.each(b.partials,function(c,d){if("string"==typeof c){var e=a.rg.stubloader.get(c);b.partials[d]=a.rg.createHoganTemplate(e.compiledTemplate,e.templateString)}});var e=b.template.render(c,b.partials);return a.rg.timeEnd("render widget to html "+b.id),e};a.rg.createHoganTemplate=function(a,b){var c="var tpl = "+a+"; return tpl.call(this, c, p, i);",d=new Function("c","p","i",c);return new Hogan.Template(d,b,Hogan,{})},a.rg.widget.renderWidgetTree=function(b,c){a.rg.time("render widget tree create node "+b.id);var d=a.Node.create(i(b));a.rg.timeEnd("render widget tree create node "+b.id),a.rg.time("render widget tree insert node"+b.id),("function"!=typeof c.before||c.before.call(b,d,a.bind(function(){f(b,c,d),a.rg.timeEnd("render widget tree insert node"+b.id)}))!==!1)&&(f(b,c,d),a.rg.timeEnd("render widget tree insert node"+b.id))}},"0.0.1",{requires:["Hogan","rg-widgetloader-renderers","rg-string","lscache","rg-anim"]});
